<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        ##Options -MultiViews
    </IfModule>

    RewriteEngine On

    # Redirect Trailing Slashes If Not A Folder...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)/$ /$1 [L,R=301]

    # Handle Front Controller...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]

    # Handle Authorization Header
    RewriteCond %{HTTP:Authorization} .
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
	
	RewriteCond %{SERVER_PORT} !^443$
	RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]
	
	RewriteCond %{HTTP_HOST} ^www.russky-style\.ru$ [NC]
	RewriteRule ^(.*)$ https://russky-style.ru/$1 [R=301,L]

	RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /index\.php\ HTTP/ 
	RewriteRule ^index\.php$ https://russky-style.ru/ [R=301,L]

</IfModule>
#<IfModule mod_expires.c>
#ExpiresActive On
#ExpiresDefault "access 7 days"
#ExpiresByType application/javascript "access plus 1 year"
#ExpiresByType text/javascript "access plus 1 year"
#ExpiresByType text/css "access plus 1 year"
#ExpiresByType text/html "access plus 7 day"
#ExpiresByType text/x-javascript "access 1 year"
#ExpiresByType image/gif "access plus 1 year"
#ExpiresByType image/jpeg "access plus 1 year"
#ExpiresByType image/png "access plus 1 year"
#ExpiresByType image/jpg "access plus 1 year"
#ExpiresByType image/x-icon "access 1 year"
#ExpiresByType application/x-shockwave-flash "access 1 year"
#</IfModule>

#<ifModule mod_headers.c>
#<filesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|swf)$">
#Header set Cache-Control "max-age=2592000, public"
#</filesMatch>
#<filesMatch "\.(css|js)$">
#Header set Cache-Control "max-age=2592000, public"
#</filesMatch>
#<filesMatch "\.(xml|txt)$">
#Header set Cache-Control "max-age=172800, public, must-revalidate"
#</filesMatch>
#<filesMatch "\.(html|htm|php)$">
#Header set Cache-Control "max-age=172800, private, must-revalidate"
#</filesMatch>
#</ifModule>

FileETag MTime Size
<ifmodule mod_expires.c>
<filesmatch ".(jpg|jpeg|gif|png|ico|css|js)$">
ExpiresActive on
ExpiresDefault "access plus 1 year"
</filesmatch>
</ifmodule>

<IfModule mod_setenvif.c>
BrowserMatch "MSIE" force-no-vary
BrowserMatch "Mozilla/4.[0-9]{2}" force-no-vary
</IfModule>

<ifModule mod_deflate.c>
AddOutputFilterByType DEFLATE text/html text/plain text/xml application/xml application/xhtml+xml text/css text/javascript application/javascript application/x-javascript
</ifModule>